<div id="pinterest-feed">
  <a data-pin-do="embedBoard" data-pin-board-width="400" data-pin-scale-height="240" data-pin-scale-width="80" href="https://www.pinterest.co.uk/michelleclare1/vision-board-2024/"></a>
</div>
<script
  type="text/javascript"
  async defer
  src="https://assets.pinterest.com/js/pinit.js"
></script>
<script src="https://code.jquery.com/jquery-3.7.1.min.js" integrity="sha256-/JqT3SQfawRcv/BIHPThkBvs0OEvtFFmqPF/lYI/Cxo=" crossorigin="anonymous"></script>
<script>
  jQuery(document).ready(function() {
      setTimeout(() => { 
          var frame = jQuery('#pinterest-feed').children('span').eq(0);
          var pins = getPins(frame); 
          var number = getRandomNumber(pins);
          showPin(pins, number);
          removeFrame(frame);
      }, 500);            
  });

  function getPins(frame) {
      var board = frame.children('span').eq(1);
      var spans = board.find('span');

      var pins = [];
      for(var i = 0; i < spans.length; i++) {
          if(jQuery(spans[i]).css('background-image') != 'none') {
              pins.push(spans[i]);
          }
      }

      return pins;
  }

  function getRandomNumber(pins) {
      var number = Math.floor(Math.random() * pins.length) + 1;

      return number;
  }

  function showPin(pins, number) {
      var background_css = jQuery(pins[number]).css('background-image');
      var background_url = background_css.replace('url(', '').replace(')', '').replaceAll('"', '');
      jQuery('body').append('<img src="' + background_url + '"/>');
  }

  function removeFrame(frame) {
      frame.remove();
  }
</script>
